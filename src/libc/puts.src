	.assume	adl=1

	.section	.text
	.global	_puts
	.type	_puts, @function

_puts:
	pop	de
	ex	(sp), hl
	push	de
.L.loop:
	ld	a, (hl)
	or	a, a
	jr	z, .L.newline
	ld	e, a
	push	hl
	push	de
	call	_outchar
	pop	de
	pop	hl
	inc	hl
	jr	.L.loop
.L.newline:
	ld	l, 10
	push	hl
	call	_outchar
	pop	hl
	ret

	.extern	_outchar
