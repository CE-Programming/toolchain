	.assume	adl=1

	.section	.text
	
	.global	__iszerol
	.type	__iszerol, @function

; bool iszerol(long double)
__iszerol:
	pop	bc
	pop	hl
	pop	de
	xor	a, a
	adc	hl, de
	pop	de
	push	bc
	push	bc
	push	bc
	push	bc
	; return if mantissa is non-zero
	ret	nz	; mant_nonzero
	ret	c	; mant_carry
	ld	a, d
	rla	; clear the signbit
	or	a, e
	sub	a, 1
	sbc	a, a
	ret
