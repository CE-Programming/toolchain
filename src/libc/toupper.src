	.assume	adl=1

	.section	.text
	.global	_toupper
	.type	_toupper, @function
	.global	_toupper_internal
	.type	_toupper_internal, @function

_toupper:
	pop	de
	ex	(sp), hl
	push	de
	; ASM interface: input/output char in L, destroys AF
_toupper_internal:
	ld	a, l
	sub	a, 'a'
	cp	a, 1+'z'-'a'
	ret	nc

	res	5, l
	ret
