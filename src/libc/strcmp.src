	.assume	adl=1

	.section	.text

	.global	_strcmp
	.type	_strcmp, @function

.ifdef PREFER_OS_LIBC

	.set	_strcmp, 0x0000C8

.else

_strcmp:
	ld	hl, 3
	add	hl, sp
	ld	de, (hl)
	inc	hl
	inc	hl
	inc	hl
	ld	hl, (hl)
_strcmp.loop:
	ld	a, (de)
	cp	a, (hl)
	jr	nz, _strcmp.finish
	inc	hl
	inc	de
	or	a, a
	jr	nz, _strcmp.loop
_strcmp.finish:
	sbc	hl, hl
	ld	l, a
	ret

.endif
