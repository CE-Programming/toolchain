    assume adl=1

    section .text
    public __i48divu
    public __i48remu

; Result in ude:uhl
__i48divu:
    call __i48dvrmu
    lea ix, ix-9
    ld sp, ix
    jr __i48divuremu.cleanup
__i48remu:
    call __i48dvrmu
    lea ix, ix-9
    ld sp, ix
    ld de, (ix-18)
    ld hl, (ix-27)
__i48divuremu.cleanup:
    pop af
    jp po, .skipEI
    ei
.skipEI:
    pop af
    pop ix
    inc sp ; skip over old return address
    inc sp
    inc sp
    ret

    extern	__i48dvrmu